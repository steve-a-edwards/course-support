# An example of an HTTP service, that provides open Web access to the Cert Monitor log file created by
# a log target that is listening for cert-monitor events (generated by the Certificate Monitor service
# that checks for Crypto Certificate objects about to expire / expired).
# Following HTTP service provides access to internal log file set up in Certificate Monitor CLI Solution.
# The log file is located in the default domain file: logtemp:///cert-monitor-logtarget.log.
# A start page for the HTTP service is: local:///cert-monitor-http-service/cert-monitor.html,
# the source for this HTML file is found at the bottom of this page.
# Web browser access to the start page: http://datapower-ip:8080/
# replacing the red above with the actual DataPower IP address.
# The ip-address below is using a host alias, defined separately in the default domain.

# =================== CLI to produce HTTP service:

co
httpserv "cert-monitor-http-service"
 ip-address dp_public_ip
 summary "HTTP service gives open Web access to the Cert Monitor log file"
 port 8080
 local-directory logtemp:///
 start-page local:///cert-monitor-http-service/cert-monitor.html
exit
exit

# The HTML start-page should be placed in DataPower at: local:///cert-monitor-http-service/cert-monitor.html
# a sample source for this may be found here: https://github.com/steve-a-edwards/course-support/blob/master/cert-monitor.html
